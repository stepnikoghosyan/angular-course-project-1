<div class="wrapper">
    <div class="img_content">
        <h2>Profile Settings</h2>
        <div class="img_container">
            <img src="../../../../../assets/images/user_image.jpg" alt="">
        </div>
        <div class="settings_buttons">
            <button class="edit_btn "><i class="far fa-edit"></i></button>
            <button class="delete_btn"><i class="fas fa-times"></i></button>
        </div>
    </div>
    <div class="main-container">
        <form [formGroup]="settingsForm" (ngSubmit)="settingsFormSubmit()">
            <div class="form-control">
                <label for="firstName">First Name</label>
                <input type="text" id="firstName" name="firstName" formControlName="firstName">
                <div *ngIf="settingsForm.controls['firstName'].invalid && settingsForm.controls['firstName'].touched">
                    <span class="error-message" *ngIf="settingsForm.controls['firstName'].errors?.['required']">First
                        Name
                        is required</span>
                </div>
            </div>
            <div class="form-control">
                <label for="lastName">Last Name</label>
                <input type="text" id="lastName" name="lastName" formControlName="lastName">
                <div *ngIf="settingsForm.controls['lastName'].invalid && settingsForm.controls['lastName'].touched">
                    <span class="error-message" *ngIf="settingsForm.controls['lastName'].errors?.['required']">Last Name
                        is
                        required</span>
                </div>
            </div>
            <div class="form-control">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" formControlName="email">
                <div *ngIf="settingsForm.controls['email'].invalid && settingsForm.controls['email'].touched"
                    class="errors">
                    <span class="error-message" *ngIf="settingsForm.controls['email'].errors?.['required']">Email is
                        required</span>
                    <span class="error-message" *ngIf="settingsForm.controls['email'].errors?.['email']">Email must be
                        an
                        email</span>
                </div>
            </div>
            <div class="form-control password_container">
                <label for="password">Password</label>
                <input [type]="showEyeIcon? 'text':'password'" id="password" name="password" formControlName="password">
                <i class="far fa-eye" *ngIf="showEyeIcon" [ngClass]="showEyeIcon? 'far fa-eye':'far fa-eye-slash'"
                    (click)="toggleShowPassoword()"></i>
                <i class="far fa-eye-slash" *ngIf="!showEyeIcon" (click)="toggleShowPassoword()"></i>
                <div *ngIf="settingsForm.controls['password'].invalid && settingsForm.controls['password'].touched">
                    <span class="error-message" *ngIf="settingsForm.controls['password'].errors?.['required']">
                        Required
                    </span>
                    <span class="error-message" *ngIf="settingsForm.controls['password'].errors?.['minlength']">
                        Please enter at least
                        {{settingsForm.controls['password'].getError('minlength').requiredLength}} characters.
                    </span>
                </div>
            </div>
            <div class="errors" *ngFor="let error of errors">
                <span>{{error}}</span>
            </div>
            <div class="form-control password_container">
                <label for="confirmPassword">Confirm Password</label>
                <input [type]="showConfirmEyeIcon? 'text':'password'" id="confirmPassword" name="confirmPassword"
                    formControlName="confirmPassword">
                <i class="far fa-eye" *ngIf="showConfirmEyeIcon"
                    [ngClass]="showConfirmEyeIcon? 'far fa-eye':'far fa-eye-slash'"
                    (click)="toggleShowConfirmPassoword()"></i>
                <i class="far fa-eye-slash" *ngIf="!showConfirmEyeIcon" (click)="toggleShowConfirmPassoword()"></i>
                <div *ngIf="settingsForm.controls['confirmPassword'].invalid && settingsForm.controls['confirmPassword'].touched">
                    <span class="error-message" *ngIf="settingsForm.controls['confirmPassword'].errors?.['required']">
                        Required
                    </span>
                    <span class="error-message" *ngIf="settingsForm.controls['confirmPassword'].errors?.['minlength']">
                        Please emter at least 
                        {{settingsForm.controls['confirmPassword'].getError('minlength').requiredLength}} characters.
                    </span>
                    <span class="error-message" *ngIf="settingsForm.controls['confirmPassword'].errors?.['confirmedPassword']">
                       Password and Confirm Password must be match.
                    </span>
                </div>
            </div>
            <div class="form-control">
                <button class="save_btn" [disabled]="!settingsForm.valid">Save</button>
            </div>
            
            <mat-spinner [diameter]="50" *ngIf="showSpinner"></mat-spinner>
        </form>
    </div>
</div>